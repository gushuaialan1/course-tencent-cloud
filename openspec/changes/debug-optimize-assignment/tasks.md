# Implementation Tasks

## ğŸ“‹ é‡è¦è¯´æ˜

**éƒ¨ç½²ç¯å¢ƒ**: é¡¹ç›®éƒ¨ç½²åœ¨çº¿ä¸ŠæœåŠ¡å™¨ï¼Œä¸åœ¨æœ¬åœ°  
**æµ‹è¯•æµç¨‹**: ä¿®æ”¹ä»£ç  â†’ Gitæäº¤ â†’ çº¿ä¸ŠåŒæ­¥ â†’ æµ‹è¯•éªŒè¯  
**å·¥ä½œåŸåˆ™**: âš ï¸ **å…ˆå®Œæˆè§„èŒƒç»Ÿä¸€å®¡æŸ¥ï¼Œå†å¼€å§‹ç¼–ç **  

---

## 1. å‡†å¤‡å·¥ä½œ
- [x] 1.1 é˜…è¯»ä½œä¸šæ¨¡å—å­—æ®µè§„èŒƒæ–‡æ¡£
- [x] 1.2 é˜…è¯»æœ€æ–°çš„æµ‹è¯•æŠ¥å‘Šï¼ˆä½œä¸šæ¨¡å—éªŒæ”¶æµ‹è¯•æŠ¥å‘Š.mdï¼‰
- [x] 1.3 åˆ›å»ºOpenSpecå˜æ›´ææ¡ˆ
- [ ] 1.4 åˆ›å»ºGitå¼€å‘åˆ†æ”¯ `bugfix/debug-optimize-assignment`
- [ ] 1.5 å¤‡ä»½çº¿ä¸Šæ•°æ®åº“ âš ï¸

---

## 2. å‰åå°è§„èŒƒç»Ÿä¸€å®¡æŸ¥ âš ï¸ **æ ¸å¿ƒä»»åŠ¡ - å¿…é¡»å…ˆå®Œæˆ**

### 2.1 é¢˜ç›®æ•°æ®ç»“æ„è§„èŒƒå®¡æŸ¥
- [ ] 2.1.1 ç¡®è®¤ `Assignment.content` å­—æ®µçš„JSONç»“æ„ï¼ˆé¢˜ç›®æ•°ç»„æ ¼å¼ï¼‰
- [ ] 2.1.2 ç¡®è®¤å•é€‰é¢˜å’Œå¤šé€‰é¢˜çš„åŒºåˆ†æ–¹å¼ï¼ˆ`type: "choice"` + `multiple: true/false`ï¼‰
- [ ] 2.1.3 ç¡®è®¤é¢˜ç›®ç±»å‹æšä¸¾å€¼ï¼š`choice`, `essay`, `code`, `file_upload`
- [ ] 2.1.4 æ–‡æ¡£åŒ–æ ‡å‡†é¢˜ç›®å¯¹è±¡çš„æ‰€æœ‰å­—æ®µå’Œæ•°æ®ç±»å‹
- [ ] 2.1.5 ç¡®è®¤ `options` å­—æ®µçš„æ ¼å¼ï¼ˆå¯¹è±¡ `{A: "é€‰é¡¹A"}` æˆ–æ•°ç»„ï¼‰

### 2.2 å­¦ç”Ÿç­”æ¡ˆæ•°æ®ç»“æ„è§„èŒƒå®¡æŸ¥
- [ ] 2.2.1 ç¡®è®¤ `AssignmentSubmission.content` å­—æ®µçš„JSONç»“æ„ï¼ˆé¢˜ç›®ID â†’ ç­”æ¡ˆï¼‰
- [ ] 2.2.2 ç¡®è®¤å•é€‰é¢˜ç­”æ¡ˆæ ¼å¼ï¼š**å­—ç¬¦ä¸²** `"A"` ï¼ˆä¸æ˜¯æ•°ç»„ï¼‰
- [ ] 2.2.3 ç¡®è®¤å¤šé€‰é¢˜ç­”æ¡ˆæ ¼å¼ï¼š**æ•°ç»„** `["A", "C"]` ï¼ˆä¸æ˜¯å­—ç¬¦ä¸²ï¼‰
- [ ] 2.2.4 ç¡®è®¤ç®€ç­”é¢˜ç­”æ¡ˆæ ¼å¼ï¼šå­—ç¬¦ä¸²ï¼ˆæ–‡æœ¬å†…å®¹ï¼‰
- [ ] 2.2.5 æ–‡æ¡£åŒ–å‰ç«¯æäº¤å’Œåç«¯å­˜å‚¨çš„ç­”æ¡ˆç»“æ„å·®å¼‚ï¼ˆå¦‚æœæœ‰ï¼‰

### 2.3 å‰ç«¯å‚æ•°å‘½åè§„èŒƒå®¡æŸ¥
- [ ] 2.3.1 å®¡æŸ¥ `public/static/admin/js/assignment.create.js`
  - [ ] æ£€æŸ¥æ‰€æœ‰å­—æ®µåæ˜¯å¦ä½¿ç”¨ snake_case
  - [ ] åˆ—å‡ºæ‰€æœ‰éœ€è¦ä¿®æ”¹çš„å˜é‡å
- [ ] 2.3.2 å®¡æŸ¥ `public/static/admin/js/assignment.list.js`
- [ ] 2.3.3 å®¡æŸ¥ `public/static/home/js/assignment.*.js`
- [ ] 2.3.4 åˆ›å»ºå‰ç«¯å­—æ®µåä¿®æ”¹æ¸…å•ï¼ˆæ–‡ä»¶ + è¡Œå· + æ—§å â†’ æ–°åï¼‰

### 2.4 åç«¯å‚æ•°å‘½åè§„èŒƒå®¡æŸ¥
- [ ] 2.4.1 ä½¿ç”¨grepæœç´¢åºŸå¼ƒå­—æ®µå
  ```bash
  cd /course-tencent-cloud
  grep -rn "total_score" app/Services/Logic/Assignment/
  grep -rn "deadline" app/Services/Logic/Assignment/
  grep -rn "allow_resubmit" app/Services/Logic/Assignment/
  grep -rn "answers" app/Services/Logic/Assignment/
  grep -rn "submitted_at" app/Services/Logic/Assignment/
  grep -rn "graded_at" app/Services/Logic/Assignment/
  ```
- [ ] 2.4.2 åˆ›å»ºåç«¯å­—æ®µåæ›¿æ¢æ¸…å•ï¼ˆæ–‡ä»¶ + è¡Œå· + æ—§å­—æ®µ â†’ æ–°å­—æ®µï¼‰

### 2.5 é¢˜ç›®è§£æé€»è¾‘ç»Ÿä¸€å®¡æŸ¥
- [ ] 2.5.1 å®¡æŸ¥åç«¯è§£æ `Assignment.content` çš„æ‰€æœ‰ä½ç½®
  - `AssignmentInfo.php`
  - `Course/AssignmentList.php`
  - `User/Console/AssignmentList.php`
  - `AutoGrade.php`
- [ ] 2.5.2 å®¡æŸ¥å‰ç«¯è§£æé¢˜ç›®æ•°æ®çš„æ‰€æœ‰ä½ç½®
  - `assignment.create.js` ç¼–è¾‘æ¨¡å¼æ•°æ®å›å¡«
  - `assignment.show.js` ç­”é¢˜é¡µé¢æ¸²æŸ“
- [ ] 2.5.3 ç¡®è®¤å‰åå°éƒ½å…¼å®¹ä¸¤ç§æ ¼å¼ï¼š
  - æ–°æ ¼å¼ï¼š`[{é¢˜ç›®å¯¹è±¡}, {é¢˜ç›®å¯¹è±¡}, ...]`
  - æ—§æ ¼å¼ï¼š`{questions: [{é¢˜ç›®å¯¹è±¡}, ...]}`
- [ ] 2.5.4 ç»Ÿä¸€è§£æé€»è¾‘ï¼Œæå–ä¸ºå…¬å…±æ–¹æ³•ï¼ˆé¿å…é‡å¤ä»£ç ï¼‰

### 2.6 è‡ªåŠ¨è¯„åˆ†è§„åˆ™è§„èŒƒå®¡æŸ¥
- [ ] 2.6.1 ç¡®è®¤åªå¯¹ `type: "choice"` çš„é¢˜ç›®è¿›è¡Œè‡ªåŠ¨è¯„åˆ†
- [ ] 2.6.2 ç¡®è®¤ç®€ç­”é¢˜ï¼ˆ`essay`ï¼‰ç¦æ­¢è‡ªåŠ¨è¯„åˆ†
- [ ] 2.6.3 ç¡®è®¤ç¼–ç¨‹é¢˜ï¼ˆ`code`ï¼‰ç¦æ­¢è‡ªåŠ¨è¯„åˆ†
- [ ] 2.6.4 ç¡®è®¤æ–‡ä»¶ä¸Šä¼ é¢˜ï¼ˆ`file_upload`ï¼‰ç¦æ­¢è‡ªåŠ¨è¯„åˆ†
- [ ] 2.6.5 æ–‡æ¡£åŒ–å•é€‰é¢˜è¯„åˆ†ç®—æ³•ï¼š
  - å­¦ç”Ÿç­”æ¡ˆç±»å‹ï¼šå­—ç¬¦ä¸²ï¼ˆå¦‚ `"A"`ï¼‰
  - æ¯”è¾ƒæ–¹å¼ï¼šä¸¥æ ¼ç›¸ç­‰ `===`
  - å¾—åˆ†ï¼šå®Œå…¨åŒ¹é…å¾—æ»¡åˆ†ï¼Œå¦åˆ™0åˆ†
- [ ] 2.6.6 æ–‡æ¡£åŒ–å¤šé€‰é¢˜è¯„åˆ†ç®—æ³•ï¼š
  - å­¦ç”Ÿç­”æ¡ˆç±»å‹ï¼šæ•°ç»„ï¼ˆå¦‚ `["A", "C"]`ï¼‰
  - æ¯”è¾ƒæ–¹å¼ï¼šæ•°ç»„å®Œå…¨ç›¸ç­‰ï¼ˆåŒ…æ‹¬é¡ºåºï¼‰
  - å¾—åˆ†ï¼šå®Œå…¨åŒ¹é…å¾—æ»¡åˆ†ï¼Œå¦åˆ™0åˆ†ï¼ˆä¸æ”¯æŒéƒ¨åˆ†å¾—åˆ†ï¼‰

### 2.7 åˆ›å»ºè§„èŒƒå¯¹ç…§è¡¨ ğŸ“Š
- [ ] 2.7.1 æ•´ç†å‰åå°å­—æ®µå¯¹ç…§è¡¨
  | æ•°æ®åº“å­—æ®µ | PHPä½¿ç”¨ | JSä½¿ç”¨ | Voltä½¿ç”¨ | æ•°æ®ç±»å‹ | è¯´æ˜ |
  |-----------|---------|--------|----------|---------|------|
  | max_score | $assignment->max_score | assignment.max_score | assignment.max_score | decimal | æ€»åˆ† |
  | due_date | $assignment->due_date | assignment.due_date | assignment.due_date | int | Unixæ—¶é—´æˆ³ |
  | ... | ... | ... | ... | ... | ... |
- [ ] 2.7.2 æ•´ç†é¢˜ç›®ç±»å‹å’Œæ•°æ®ç»“æ„å¯¹ç…§è¡¨
- [ ] 2.7.3 æ•´ç†ç­”æ¡ˆæ•°æ®ç»“æ„å¯¹ç…§è¡¨ï¼ˆå•é€‰/å¤šé€‰/ç®€ç­”ï¼‰
- [ ] 2.7.4 æ•´ç†çŠ¶æ€æšä¸¾å€¼å¯¹ç…§è¡¨ï¼ˆ`status` + `grade_status`ï¼‰
- [ ] 2.7.5 è¾“å‡ºä¸ºç‹¬ç«‹æ–‡æ¡£ï¼š`ä½œä¸šæ¨¡å—å‰åå°æ•°æ®è§„èŒƒå¯¹ç…§è¡¨.md`

---

## 3. ä»£ç å®¡è®¡ - Modelså±‚
- [ ] 3.1 å®¡è®¡ `app/Models/Assignment.php`
  - [ ] éªŒè¯æ‰€æœ‰Getter/Setteræ–¹æ³•æ­£ç¡®å®šä¹‰
  - [ ] éªŒè¯JSONå­—æ®µçš„å¤„ç†é€»è¾‘
  - [ ] éªŒè¯å¸¸é‡å®šä¹‰å®Œæ•´æ€§ï¼ˆ`GRADE_MODE_*`, `STATUS_*`ï¼‰
- [ ] 3.2 å®¡è®¡ `app/Models/AssignmentSubmission.php`
  - [ ] éªŒè¯æ‰€æœ‰Getter/Setteræ–¹æ³•
  - [ ] éªŒè¯çŠ¶æ€å¸¸é‡å®šä¹‰ï¼ˆ`STATUS_*`, `GRADE_STATUS_*`ï¼‰
  - [ ] éªŒè¯å…³è”å…³ç³»å®šä¹‰
  - [ ] éªŒè¯é»˜è®¤å€¼è®¾ç½®ï¼ˆç‰¹åˆ«æ˜¯`grader_id`ï¼‰

---

## 4. ä»£ç å®¡è®¡ - Repositorieså±‚
- [ ] 4.1 å®¡è®¡ `app/Repos/Assignment.php`
  - [ ] æ£€æŸ¥æ‰€æœ‰å­—æ®µåä½¿ç”¨
  - [ ] éªŒè¯JSONå­—æ®µçš„ä¿å­˜é€»è¾‘ï¼ˆä½¿ç”¨Setteræ–¹æ³•ï¼‰
  - [ ] æ·»åŠ å¿…è¦çš„é”™è¯¯å¤„ç†
- [ ] 4.2 å®¡è®¡ `app/Repos/AssignmentSubmission.php`
  - [ ] æ£€æŸ¥æŸ¥è¯¢æ¡ä»¶ä¸­çš„å­—æ®µå
  - [ ] éªŒè¯ `findByAssignmentAndUser()` æ–¹æ³•
  - [ ] ç¡®ä¿ `grader_id` æ­£ç¡®å¤„ç†ï¼ˆNULL vs 0ï¼‰

---

## 5. ä»£ç å®¡è®¡ä¸ä¿®å¤ - Serviceså±‚ï¼ˆæ ¸å¿ƒä¸šåŠ¡ï¼‰

### 5.1 è‡ªåŠ¨è¯„åˆ†æœåŠ¡ âš ï¸ é‡ç‚¹
- [ ] 5.1.1 å®¡è®¡ `app/Services/Logic/Assignment/AutoGrade.php`
  - [ ] ç¡®è®¤åªå¯¹ `type: "choice"` çš„é¢˜ç›®è¯„åˆ†
  - [ ] ç¡®è®¤ç®€ç­”é¢˜ã€ç¼–ç¨‹é¢˜ã€æ–‡ä»¶ä¸Šä¼ é¢˜è·³è¿‡
  - [ ] ç¡®è®¤å•é€‰é¢˜ç­”æ¡ˆç±»å‹åˆ¤æ–­ï¼ˆå­—ç¬¦ä¸²ï¼‰
  - [ ] ç¡®è®¤å¤šé€‰é¢˜ç­”æ¡ˆç±»å‹åˆ¤æ–­ï¼ˆæ•°ç»„ï¼‰
  - [ ] ç¡®è®¤ `grader_id` æ ¹æ®æ‰¹æ”¹æ¨¡å¼æ­£ç¡®è®¾ç½®
  - [ ] ç¡®è®¤ `grade_status` é€»è¾‘æ­£ç¡®
- [ ] 5.1.2 ä¿®å¤å•é€‰é¢˜å’Œå¤šé€‰é¢˜è¯„åˆ†é€»è¾‘å·®å¼‚
  ```php
  // å•é€‰é¢˜
  if (!$question['multiple']) {
      $studentAnswer = $submissionContent[$questionId]; // å­—ç¬¦ä¸² "A"
      if (is_string($studentAnswer) && $studentAnswer === $question['correct_answer']) {
          $score = $question['score'];
      }
  }
  // å¤šé€‰é¢˜
  else {
      $studentAnswer = $submissionContent[$questionId]; // æ•°ç»„ ["A", "C"]
      if (is_array($studentAnswer) && 
          count($studentAnswer) === count($question['correct_answer']) &&
          empty(array_diff($studentAnswer, $question['correct_answer']))) {
          $score = $question['score'];
      }
  }
  ```

### 5.2 ä½œä¸šæäº¤æœåŠ¡
- [ ] 5.2.1 å®¡è®¡ `app/Services/Logic/Assignment/AssignmentSubmit.php`
  - [ ] å­—æ®µåç»Ÿä¸€æ£€æŸ¥
  - [ ] JSONå­—æ®µå¤„ç†æ£€æŸ¥
  - [ ] `grader_id` å’Œ `status` æ­£ç¡®è®¾ç½®
  - [ ] é”™è¯¯å¤„ç†å’Œæ—¥å¿—

### 5.3 è‰ç¨¿ä¿å­˜æœåŠ¡
- [ ] 5.3.1 å®¡è®¡ `app/Services/Logic/Assignment/SubmissionDraft.php`
  - [ ] å­—æ®µåç»Ÿä¸€
  - [ ] `delete_time` æ­£ç¡®åˆå§‹åŒ–
  - [ ] é”™è¯¯å¤„ç†

### 5.4 ä½œä¸šè¯¦æƒ…æœåŠ¡
- [ ] 5.4.1 å®¡è®¡ `app/Services/Logic/Assignment/AssignmentInfo.php`
  - [ ] å­—æ®µåç»Ÿä¸€
  - [ ] é¢˜ç›®æ•°æ®è§£æé€»è¾‘ï¼ˆå…¼å®¹ä¸¤ç§æ ¼å¼ï¼‰
  - [ ] æäº¤çŠ¶æ€åˆ¤æ–­é€»è¾‘

### 5.5 æˆç»©æŸ¥çœ‹æœåŠ¡
- [ ] 5.5.1 å®¡è®¡ `app/Services/Logic/Assignment/SubmissionResult.php`
  - [ ] å­—æ®µåç»Ÿä¸€
  - [ ] æˆç»©æ•°æ®ç»„è£…é€»è¾‘
  - [ ] æ‰¹æ”¹è¯¦æƒ…æ˜¾ç¤º

### 5.6 ä½œä¸šåˆ—è¡¨æœåŠ¡
- [ ] 5.6.1 å®¡è®¡ `app/Services/Logic/Assignment/AssignmentList.php` (åå°)
  - [ ] å­—æ®µåç»Ÿä¸€
  - [ ] åˆ—è¡¨æŸ¥è¯¢é€»è¾‘
- [ ] 5.6.2 å®¡è®¡ `app/Services/Logic/Course/AssignmentList.php` (å‰å°è¯¾ç¨‹)
  - [ ] å­—æ®µåç»Ÿä¸€
  - [ ] `status` å’Œ `grade_status` çŠ¶æ€åˆ¤æ–­é€»è¾‘
  - [ ] æŒ‰é’®æ˜¾ç¤ºé€»è¾‘ï¼ˆç»§ç»­ç¼–è¾‘/æŸ¥çœ‹æˆç»©/ç­‰å¾…æ‰¹æ”¹ï¼‰
  - [ ] é¢˜ç›®æ•°é‡è®¡ç®—ï¼ˆé¿å…é‡å¤ json_decodeï¼‰
- [ ] 5.6.3 å®¡è®¡ `app/Services/Logic/User/Console/AssignmentList.php` (ä¸ªäººä¸­å¿ƒ)
  - [ ] å­—æ®µåç»Ÿä¸€
  - [ ] é¢˜ç›®æ•°é‡è®¡ç®—é€»è¾‘
  - [ ] çŠ¶æ€æ˜¾ç¤ºé€»è¾‘

### 5.7 é€šçŸ¥æœåŠ¡
- [ ] 5.7.1 å®¡è®¡ `app/Services/Logic/Notice/Internal/AssignmentPublished.php`
  - [ ] å­—æ®µåç»Ÿä¸€
- [ ] 5.7.2 å®¡è®¡ `app/Services/Logic/Notice/Internal/AssignmentGraded.php`
  - [ ] å­—æ®µåç»Ÿä¸€

---

## 6. ä»£ç å®¡è®¡ä¸ä¿®å¤ - Controllerså±‚
- [ ] 6.1 å®¡è®¡ `app/Http/Admin/Controllers/AssignmentController.php`
  - [ ] åˆ›å»ºä½œä¸šæ–¹æ³•å­—æ®µåç»Ÿä¸€
  - [ ] ç¼–è¾‘ä½œä¸šæ–¹æ³•å­—æ®µåç»Ÿä¸€
  - [ ] JSONå­—æ®µç©ºå€¼å¤„ç†ï¼ˆåˆå§‹åŒ–ä¸º `[]`ï¼‰
- [ ] 6.2 å®¡è®¡ `app/Http/Admin/Controllers/AssignmentSubmissionController.php`
  - [ ] æ‰¹æ”¹æ–¹æ³•å­—æ®µåç»Ÿä¸€
  - [ ] çŠ¶æ€æ›´æ–°é€»è¾‘
- [ ] 6.3 å®¡è®¡ `app/Http/Home/Controllers/AssignmentController.php`
  - [ ] æäº¤æ–¹æ³•å­—æ®µåç»Ÿä¸€
  - [ ] è‰ç¨¿ä¿å­˜æ–¹æ³•

---

## 7. ä»£ç å®¡è®¡ä¸ä¿®å¤ - Validatorså±‚
- [ ] 7.1 åˆ—å‡ºæ‰€æœ‰ä½œä¸šç›¸å…³Validator
  ```bash
  ls app/Validators/Assignment*.php
  ```
- [ ] 7.2 é€ä¸ªå®¡è®¡æ¯ä¸ªValidator
  - [ ] å­—æ®µåç»Ÿä¸€
  - [ ] éªŒè¯è§„åˆ™æ­£ç¡®æ€§
  - [ ] é”™è¯¯æ¶ˆæ¯å‹å¥½æ€§

---

## 8. ä»£ç å®¡è®¡ä¸ä¿®å¤ - Viewså±‚ï¼ˆåå°ï¼‰
- [ ] 8.1 å®¡è®¡ `app/Http/Admin/Views/assignment/list.volt`
  - [ ] å­—æ®µåç»Ÿä¸€
  - [ ] çŠ¶æ€æ˜¾ç¤ºé€»è¾‘
- [ ] 8.2 å®¡è®¡ `app/Http/Admin/Views/assignment/create.volt`
  - [ ] å­—æ®µåç»Ÿä¸€
  - [ ] ç¼–è¾‘æ¨¡å¼æ•°æ®å›å¡«ï¼ˆä½¿ç”¨ `<script type="application/json">` ä¼ é€’JSONï¼‰
- [ ] 8.3 å®¡è®¡ `app/Http/Admin/Views/assignment/grading.volt`
  - [ ] å­—æ®µåç»Ÿä¸€

---

## 9. ä»£ç å®¡è®¡ä¸ä¿®å¤ - Viewså±‚ï¼ˆå‰å°ï¼‰
- [ ] 9.1 å®¡è®¡ `app/Http/Home/Views/course/assignments.volt`
  - [ ] å­—æ®µåç»Ÿä¸€
  - [ ] çŠ¶æ€å’ŒæŒ‰é’®æ˜¾ç¤ºé€»è¾‘
- [ ] 9.2 å®¡è®¡ `app/Http/Home/Views/assignment/show.volt`
  - [ ] å­—æ®µåç»Ÿä¸€
  - [ ] ç­”é¢˜é¡µé¢æ•°æ®å›å¡«
- [ ] 9.3 å®¡è®¡ `app/Http/Home/Views/assignment/result.volt`
  - [ ] å­—æ®µåç»Ÿä¸€
  - [ ] æˆç»©æ˜¾ç¤º
- [ ] 9.4 å®¡è®¡ `app/Http/Home/Views/user/console/assignments.volt`
  - [ ] å­—æ®µåç»Ÿä¸€
  - [ ] ä¸ªäººä¸­å¿ƒåˆ—è¡¨æ˜¾ç¤º

---

## 10. ä»£ç å®¡è®¡ä¸ä¿®å¤ - JavaScriptå±‚
- [ ] 10.1 å®¡è®¡ `public/static/admin/js/assignment.create.js`
  - [ ] å­—æ®µåç»Ÿä¸€ï¼ˆä½¿ç”¨ snake_caseï¼‰
  - [ ] JSONæ•°æ®è§£æé€»è¾‘
  - [ ] æ—¥æœŸæ—¶é—´è½¬æ¢é€»è¾‘ï¼ˆè½¬ä¸ºUnixæ—¶é—´æˆ³ï¼‰
  - [ ] é€‰é¡¹æ•°æ®è§£æï¼ˆå…¼å®¹å¯¹è±¡å’Œæ•°ç»„æ ¼å¼ï¼‰
- [ ] 10.2 å®¡è®¡ `public/static/admin/js/assignment.list.js`
  - [ ] AJAXè¯·æ±‚å‚æ•°å­—æ®µå
- [ ] 10.3 å®¡è®¡ `public/static/home/js/assignment.*.js`
  - [ ] æäº¤è¡¨å•å­—æ®µå
  - [ ] è‰ç¨¿ä¿å­˜é€»è¾‘
  - [ ] å•é€‰é¢˜ç­”æ¡ˆæ ¼å¼ï¼ˆå­—ç¬¦ä¸²ï¼‰
  - [ ] å¤šé€‰é¢˜ç­”æ¡ˆæ ¼å¼ï¼ˆæ•°ç»„ï¼‰

---

## 11. Gitæäº¤ - ç¬¬ä¸€æ‰¹ä¿®å¤ï¼ˆè§„èŒƒç»Ÿä¸€ï¼‰
- [ ] 11.1 æ£€æŸ¥æ‰€æœ‰ä¿®æ”¹çš„æ–‡ä»¶
  ```bash
  git status
  git diff
  ```
- [ ] 11.2 æäº¤ä»£ç 
  ```bash
  git add .
  git commit -m "fix: ç»Ÿä¸€ä½œä¸šæ¨¡å—å‰åå°å­—æ®µå‘½åå’Œæ•°æ®ç»“æ„è§„èŒƒ
  
  - ç»Ÿä¸€æ‰€æœ‰å­—æ®µåä¸ºæ ‡å‡†å‘½åï¼ˆmax_score, due_date, allow_lateç­‰ï¼‰
  - ç»Ÿä¸€é¢˜ç›®æ•°æ®ç»“æ„è§£æé€»è¾‘
  - è§„èŒƒå•é€‰é¢˜ç­”æ¡ˆæ ¼å¼ï¼ˆå­—ç¬¦ä¸²ï¼‰å’Œå¤šé€‰é¢˜ç­”æ¡ˆæ ¼å¼ï¼ˆæ•°ç»„ï¼‰
  - ä¿®å¤è‡ªåŠ¨è¯„åˆ†é€»è¾‘ï¼Œåªå¯¹é€‰æ‹©é¢˜æœ‰æ•ˆ
  - ç¦æ­¢ç®€ç­”é¢˜ã€ç¼–ç¨‹é¢˜ã€æ–‡ä»¶ä¸Šä¼ é¢˜è‡ªåŠ¨è¯„åˆ†
  
  è¯¦è§ï¼šopenspec/changes/debug-optimize-assignment/"
  ```
- [ ] 11.3 æ¨é€åˆ°è¿œç¨‹
  ```bash
  git push origin bugfix/debug-optimize-assignment
  ```
- [ ] 11.4 é€šçŸ¥ç”¨æˆ·åŒæ­¥çº¿ä¸Šä»£ç 

---

## 12. ç¬¬ä¸€è½®æµ‹è¯•éªŒè¯ï¼ˆçº¿ä¸Šç¯å¢ƒï¼‰
- [ ] 12.1 åå°åŠŸèƒ½æµ‹è¯•
  - [ ] åˆ›å»ºä½œä¸šï¼ˆå•é€‰é¢˜ï¼‰
  - [ ] åˆ›å»ºä½œä¸šï¼ˆå¤šé€‰é¢˜ï¼‰
  - [ ] åˆ›å»ºä½œä¸šï¼ˆæ··åˆé¢˜å‹ï¼‰
  - [ ] ç¼–è¾‘ä½œä¸šï¼ˆæ•°æ®å›å¡«æ­£ç¡®ï¼‰
  - [ ] æŸ¥çœ‹æäº¤åˆ—è¡¨
- [ ] 12.2 å‰å°åŠŸèƒ½æµ‹è¯•
  - [ ] æŸ¥çœ‹ä½œä¸šåˆ—è¡¨ï¼ˆé¢˜ç›®æ•°é‡ã€æ€»åˆ†ã€æˆªæ­¢æ—¶é—´æ­£ç¡®ï¼‰
  - [ ] æäº¤å•é€‰é¢˜ä½œä¸š
  - [ ] æäº¤å¤šé€‰é¢˜ä½œä¸š
  - [ ] æäº¤æ··åˆé¢˜å‹ä½œä¸š
  - [ ] ä¿å­˜è‰ç¨¿
  - [ ] è‰ç¨¿é‡æ–°åŠ è½½
- [ ] 12.3 è‡ªåŠ¨è¯„åˆ†æµ‹è¯•
  - [ ] çº¯é€‰æ‹©é¢˜è‡ªåŠ¨è¯„åˆ†ï¼ˆautoæ¨¡å¼ï¼‰
  - [ ] æ··åˆé¢˜å‹è‡ªåŠ¨è¯„åˆ†ï¼ˆmixedæ¨¡å¼ï¼Œé€‰æ‹©é¢˜æœ‰åˆ†ï¼‰
  - [ ] ç®€ç­”é¢˜ä¸è‡ªåŠ¨è¯„åˆ†ï¼ˆåˆ†æ•°ä¸º0ï¼‰
- [ ] 12.4 è®°å½•æµ‹è¯•é—®é¢˜

---

## 13. ä¿®å¤æµ‹è¯•ä¸­å‘ç°çš„é—®é¢˜
- [ ] 13.1 åˆ†ææµ‹è¯•ä¸­å‘ç°çš„é—®é¢˜
- [ ] 13.2 é€ä¸ªä¿®å¤
- [ ] 13.3 Gitæäº¤ç¬¬äºŒæ‰¹ä¿®å¤
- [ ] 13.4 ç¬¬äºŒè½®æµ‹è¯•éªŒè¯

---

## 14. æ€§èƒ½ä¼˜åŒ–
- [ ] 14.1 æ£€æŸ¥æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½
  - [ ] æ·»åŠ å¿…è¦çš„ç´¢å¼•
  - [ ] ä¼˜åŒ–N+1æŸ¥è¯¢é—®é¢˜
- [ ] 14.2 æ·»åŠ ç¼“å­˜ç­–ç•¥ï¼ˆå¦‚é€‚ç”¨ï¼‰
  - [ ] ä½œä¸šè¯¦æƒ…ç¼“å­˜
  - [ ] è¯¾ç¨‹ä½œä¸šåˆ—è¡¨ç¼“å­˜

---

## 15. é”™è¯¯å¤„ç†å¢å¼º
- [ ] 15.1 æ·»åŠ Modelå±‚é”™è¯¯å¤„ç†
- [ ] 15.2 æ·»åŠ Serviceå±‚é”™è¯¯æ—¥å¿—
- [ ] 15.3 æ·»åŠ Controllerå±‚å‹å¥½é”™è¯¯æç¤º
- [ ] 15.4 æ·»åŠ å‰ç«¯è¡¨å•éªŒè¯å’Œé”™è¯¯æç¤º

---

## 16. ä»£ç è´¨é‡æå‡
- [ ] 16.1 æ¶ˆé™¤é‡å¤ä»£ç 
- [ ] 16.2 æ·»åŠ å¿…è¦çš„ä»£ç æ³¨é‡Š
- [ ] 16.3 æå–å…¬å…±æ–¹æ³•ï¼ˆå¦‚çŠ¶æ€åˆ¤æ–­é€»è¾‘ã€é¢˜ç›®è§£æé€»è¾‘ï¼‰
- [ ] 16.4 ç»Ÿä¸€å‘½åé£æ ¼

---

## 17. æ–‡æ¡£æ›´æ–°
- [ ] 17.1 æ›´æ–° `ä½œä¸šæ¨¡å—å­—æ®µè§„èŒƒæ–‡æ¡£.md`ï¼ˆå¦‚æœ‰éœ€è¦ï¼‰
- [ ] 17.2 åˆ›å»º `ä½œä¸šæ¨¡å—å‰åå°æ•°æ®è§„èŒƒå¯¹ç…§è¡¨.md`
- [ ] 17.3 åˆ›å»ºä¿®å¤å’Œä¼˜åŒ–æ€»ç»“æŠ¥å‘Š
- [ ] 17.4 æ›´æ–°å¼€å‘è€…æ–‡æ¡£

---

## 18. æœ€ç»ˆä»£ç å®¡æŸ¥ä¸æäº¤
- [ ] 18.1 è‡ªæˆ‘ä»£ç å®¡æŸ¥
- [ ] 18.2 ç¡®è®¤æ‰€æœ‰åºŸå¼ƒå­—æ®µåå·²æ›¿æ¢
- [ ] 18.3 ç¡®è®¤æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] 18.4 åˆå¹¶åˆ°ä¸»åˆ†æ”¯æˆ–åˆ›å»ºPull Request

---

## 19. å½’æ¡£OpenSpecå˜æ›´
- [ ] 19.1 ç¡®è®¤æ‰€æœ‰ä»»åŠ¡å®Œæˆ
- [ ] 19.2 å°†è§„èŒƒç§»åˆ°æ­£å¼ä½ç½®
  ```bash
  mv openspec/changes/debug-optimize-assignment/specs/assignment \
     openspec/specs/assignment
  ```
- [ ] 19.3 å½’æ¡£å˜æ›´
  ```bash
  mv openspec/changes/debug-optimize-assignment \
     openspec/changes/archive/2025-10-15-debug-optimize-assignment
  ```
- [ ] 19.4 è¿è¡ŒéªŒè¯
  ```bash
  openspec validate --strict
  ```

---

**ä»»åŠ¡æ€»æ•°**: 120+é¡¹  
**é¢„è®¡å·¥ä½œé‡**: 2-3å¤©  
**å½“å‰é˜¶æ®µ**: å‡†å¤‡é˜¶æ®µ â†’ è§„èŒƒç»Ÿä¸€å®¡æŸ¥ âš ï¸  
**ä¸‹ä¸€æ­¥**: å®Œæˆç¬¬2ç« "å‰åå°è§„èŒƒç»Ÿä¸€å®¡æŸ¥"åå†å¼€å§‹ç¼–ç 
